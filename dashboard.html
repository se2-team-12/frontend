<!doctype html>
<html lang ="en">
<head>
	<meta charset ="utf-8">
	<meta name ="viewport" content = "width=device-width, initial-scale=1.0">
	<meta name = "author" content ="Team 12">
	<link rel="stylesheet" href ="./css/base.css" type = "text/css"/>
	<title>Dashboard</title>
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">
  

	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>

</head>

<body>

	<header class="header">
		<span>St Edward's University</span>
		<span>Software Engineering II</span>
		<span>Team 12</span>
	</header>
	<div class="content">


	<div class="nav">
		<div class="logo">12</div>
		<ul>
			<li class="nav-item" data-id="dashboard-view">Dashboard</li>
			<li style="padding:0">
				<ul id="nav-gateway-select">
					<li class="nav-item" data-id="gateway-focus" data-gateway-id="1">Gateway 1</li>
					<li class="nav-item" data-id="gateway-focus" data-gateway-id="2">Gateway 2</li>
				</ul>
			</li>
			<li class="nav-item" data-id="gateway-register-view">
				Register New Gateway
			</li>
		</ul>

	</div>
	<div class="right-view">

		<section id="dashboard-view" class="in-view">

			<h3>Dashboard</h3>

			<table id="gateway-table" class="display">
			    <thead>
			        <tr>
			            <th>Gateway ID</th>
			            <th>Name</th>
			        </tr>
			    </thead>
			    <tbody>
			        <tr data-id="1">
			            <td>1</td>
			            <td>Alpha</td>
			        </tr>
			        <tr data-id="2">
			            <td>2</td>
			            <td>Beta</td>
			        </tr>
			    </tbody>
			</table>

		</section>

		<section id="gateway-focus" style="display:none;">
			<h3>Gateway</h3>
			<button id="refresh-table" type="button">Refresh</button>
			<table id="gateway-focus-table" class="display">
			    <thead>
			        <tr>
			            <th>Gateway ID</th>
			            <th>Timestamp</th>
			        </tr>
			    </thead>
			    <tbody>
			        <tr>
			            <td>1</td>
			            <td>4:00:00</td>
			        </tr>
			        <tr>
			            <td>2</td>
			            <td>4:00:20</td>
			        </tr>
			    </tbody>
			</table>

		</section>

		<section id="gateway-register-view" style="display: none;">
			<h3>Register Gateway</h3>

		</section>
	</div>

		
	<script type="text/javascript">
		$(document).ready( function () {

			let inView = "dashboard-view";
			const dashboardTable = $('#gateway-table').DataTable();

			let gatewayFocusTable;



			$("div.nav li.nav-item").click(function(){


				let navValue = $(this).attr("data-id");

				
					if(navValue == "gateway-focus"){
						$("section#"+inView).fadeOut();
						setTimeout(function(){ $("section#" + navValue).fadeIn();}, 400);

						let gatewayId = $(this).attr("data-gateway-id");

						$("section#gateway-focus h3").text("Gateway " + gatewayId);
					}

					else if(navValue != inView){
						$("section#"+inView).fadeOut();
						setTimeout(function(){ $("section#" + navValue).fadeIn();}, 400);
					}

					inView = navValue;
				
		
			});

	   		

	   		$("#gateway-table tbody tr").click(function (e) {
	   			let id = $(this).attr("data-id");

	   			$("section#"+inView).fadeOut();
				setTimeout(function(){ $("section#gateway-focus").fadeIn();}, 400);
				$("section#gateway-focus h3").text("Gateway " + id);
				inView = "gateway-focus";
	   			console.log(id);
	   		})
		});	

	</script>

	</div> <!-- end content div -->
	<footer class="site-footer">
		<span>Marcos</span>
		<span>Joe</span>
		<span>Batool</span>
		<span>John</span>
		<span>Chloe</span>
	</footer>

</body>

</html>